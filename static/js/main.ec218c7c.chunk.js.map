{"version":3,"sources":["logo.svg","components/AppHeader.js","components/ProductsList.js","components/Scanner.js","components/AddProduct.js","components/FloatingButton.js","Idb.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","textAlign","logo","maxWidth","AppHeader","classes","AppBar","position","Toolbar","src","headerLogo","alt","className","Typography","variant","ProductsList","props","handleListItemClick","id","setState","redirect","showProduct","statusColor","validDate","bestBeforeDayCount","Date","bind","state","open","this","push","to","toolbar","Collapse","in","Alert","action","IconButton","aria-label","color","size","onClick","fontSize","List","dense","list","products","map","product","listitemframe","key","ListItem","listitem","button","ListItemAvatar","Avatar","img_url","ListItemText","primary","name","amount","secondary","format","expireDate","style","height","width","marginTop","backgroundColor","notification","React","Component","withStyles","mixins","padding","margin","borderWidth","borderStyle","borderRadius","borderColor","palette","main","Scanner","onDetected","useEffect","Quagga","init","config","err","console","log","start","stop","onProcessed","result","drawingCtx","canvas","ctx","overlay","drawingCanvas","dom","boxes","clearRect","Number","getAttribute","filter","box","forEach","ImageDebug","drawPath","x","y","lineWidth","codeResult","code","line","detected","AddProduct","componentDidMount","productID","find","e","product_name","product_amount","product_purchaseDate","purchaseDate","product_expireDate","product_img_url","imgStyle","backgroundImage","handleCloseSnackbar","event","reason","openSnackbar","handleClickArrow","handleClickDelete","handleClickSave","handleDateChange","handleInput","getProductInformationByBarcode","showErrorPopOver","handleClose","setBackgroundImg","setDate","handleClickUpdate","onStartScan","backgroundRepeat","backgroundPosition","backgroundSize","barcode","anchorEl","simple_popover_message","camera","message","target","keyCode","length","fetch","then","res","json","status","image_url","currentTarget","error","refreshPage","delete","add","date","isoDate","toISOString","split","value","productUpdate","img","imgOverlay","edge","arrowIcon","deleteIcon","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","typography","formContainer","form","TextField","label","textField","onChange","onKeyDown","InputProps","endAdornment","InputAdornment","required","utils","DateFnsUtils","DatePicker","inputVariant","datePicker","Button","submitButton","Snackbar","autoHideDuration","marginLeft","right","float","FloatingButton","Fab","fab","bottom","db","Dexie","version","stores","addProduct","a","undefined","toArray","arr","updateProductById","update","updated","getAllProducts","deleteProductById","theId","where","equals","catch","App","deleteProduct","addProductToList","updateProduct","scheduleNotification","text","timestamp","Notification","permission","navigator","serviceWorker","ready","registration","prototype","showNotification","body","tag","icon","showTrigger","TimestampTrigger","productListComponentRef","current","displayNotification","now","createRef","path","component","exact","render","ref","Boolean","window","location","hostname","match","createMuiTheme","ReactDOM","StrictMode","document","getElementById","register","requestPermission","aElement","createElement","href","textContent","querySelector","appendChild"],"mappings":"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","file":"static/js/main.ec218c7c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.3fb9c233.svg\";","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport headerLogo from '../logo.svg';\n//import IconButton from '@material-ui/core/IconButton';\n//import MenuIcon from '@material-ui/icons/Menu';\n//import AccountCircle from '@material-ui/icons/AccountCircle';\n//import MenuItem from '@material-ui/core/MenuItem';\n//import Menu from '@material-ui/core/Menu';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n        textAlign: 'center'\n    },\n    logo: {\n        maxWidth: '2.5rem',\n    }\n}));\n\nexport default function AppHeader() {\n    const classes = useStyles();\n    // const [auth, setAuth] = React.useState(true);\n    // const [anchorEl, setAnchorEl] = React.useState(null);\n    // const open = Boolean(anchorEl);\n\n    // const handleChange = (event) => {\n    //     setAuth(event.target.checked);\n    // };\n\n    // const handleMenu = (event) => {\n    //     setAnchorEl(event.currentTarget);\n    // };\n\n    // const handleClose = () => {\n    //     setAnchorEl(null);\n    // };\n\n    return (\n            <AppBar position=\"fixed\"> \n                <Toolbar>\n                    {/* <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                        <MenuIcon />\n                    </IconButton> */}\n                    <img src={headerLogo} alt=\"logo\" className={classes.logo} />\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Xpire\n                    </Typography>\n                    <div></div>\n                    {/* {auth && (\n                        <div>\n                            <IconButton\n                                aria-label=\"account of current user\"\n                                aria-controls=\"menu-appbar\"\n                                aria-haspopup=\"true\"\n                                onClick={handleMenu}\n                                color=\"inherit\"\n                            >\n                                <AccountCircle />\n                            </IconButton>\n                            <Menu\n                                id=\"menu-appbar\"\n                                anchorEl={anchorEl}\n                                anchorOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'right',\n                                }}\n                                keepMounted\n                                transformOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'right',\n                                }}\n                                open={open}\n                                onClose={handleClose}\n                            >\n                                <MenuItem onClick={handleClose}>Profile</MenuItem>\n                                <MenuItem onClick={handleClose}>My account</MenuItem>\n                            </Menu>\n                        </div>\n                    )} */}\n                </Toolbar>\n            </AppBar>\n    );\n}","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Redirect } from 'react-router';\nimport format from 'date-fns/format';\nimport { Collapse, IconButton } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst styles = theme => ({\n    toolbar: theme.mixins.toolbar,\n    list: {\n        padding: '1rem',\n    },\n    listitemframe: {\n        margin: '0.6rem'\n    },\n    listitem: {\n        borderWidth: '0.1rem',\n        borderStyle: 'solid',\n        borderRadius: '0.5rem',\n        borderColor: theme.palette.primary.main\n    }\n});\n\nclass ProductsList extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleListItemClick = this.handleListItemClick.bind(this);\n        this.state = {\n            redirect: false,\n            open: false,\n        }    \n    }\n\n    handleListItemClick = (id) => {\n        this.setState({redirect: true});\n        this.props.showProduct(id);\n    }\n\n    statusColor = (validDate) => {\n        var bestBeforeMilliSec = new Date(validDate) - new Date();\n        var bestBeforeDayCount = bestBeforeMilliSec/(1000*60*60*24); \n        \n        if (bestBeforeDayCount > 3) {\n            return '#C9DEBC';\n        } else if (bestBeforeDayCount > 0) {\n            return '#F4E132';\n        } else {\n            return '#F96523';\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        if (this.state.redirect) {\n            return <Redirect push to=\"/Xpire/Product\" />;\n        }\n\n        return (\n            <div className={classes.root}>\n                <div className={classes.toolbar}/>\n\n                <Collapse in={this.state.open}>\n                    <Alert\n                        action={\n                        <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\" onClick={() => {this.setState({ open: false });}} >\n                            <CloseIcon fontSize=\"inherit\" />\n                        </IconButton>\n                        }\n                    >\n                        Please allow Notifications or exit Incognito Mode\n                    </Alert>\n                </Collapse>\n\n                <List dense className={classes.list}>\n                    {this.props.products ? this.props.products.map((product) =>\n                        <div className={classes.listitemframe} key={product.id}>\n                            <ListItem className={classes.listitem} button onClick={() => this.handleListItemClick(product.id)}>\n                                <ListItemAvatar>\n                                    <Avatar\n                                        alt={`Avatar n°${product + 1}`}\n                                        src={product.img_url}\n                                    />\n                                </ListItemAvatar>\n                                <ListItemText primary={`${product.name} (${product.amount})`} secondary={\n                                    <div>\n                                        <div>Gültig bis: {format(new Date(product.expireDate),\"dd.MM.yyyy\")}</div>\n                                        <div style={{\n                                            height: '0.5rem',\n                                            width: '100%',\n                                            marginTop: '0.3rem',\n                                            backgroundColor: this.statusColor(product.expireDate),\n                                        }}></div>\n                                </div>\n                                }/>\n                            </ListItem>\n                        </div>\n                    ) : null}\n                </List>\n                <button onClick={this.props.notification}>Notify me!</button>\n            </div>\n        );\n    }\n}\nexport default withStyles(styles)(ProductsList);","import React, { useEffect } from \"react\";\nimport config from \"./config.json\";\nimport Quagga from \"quagga\";\n\nconst Scanner = props => {\n  const { onDetected } = props;\n\n  useEffect(() => {\n    Quagga.init(config, err => {\n      if (err) {\n        console.log(err, \"error msg\");\n      }\n      Quagga.start();\n      return () => {\n        Quagga.stop()\n      }\n    });\n\n    //detecting boxes on stream\n    Quagga.onProcessed(result => {\n      var drawingCtx = Quagga.canvas.ctx.overlay,\n        drawingCanvas = Quagga.canvas.dom.overlay;\n\n      if (result) {\n        if (result.boxes) {\n          drawingCtx.clearRect(\n            0,\n            0,\n            Number(drawingCanvas.getAttribute(\"width\")),\n            Number(drawingCanvas.getAttribute(\"height\"))\n          );\n          result.boxes\n            .filter(function(box) {\n              return box !== result.box;\n            })\n            .forEach(function(box) {\n              Quagga.ImageDebug.drawPath(box, { x: 0, y: 1 }, drawingCtx, {\n                color: \"green\",\n                lineWidth: 2\n              });\n            });\n        }\n\n        if (result.box) {\n          Quagga.ImageDebug.drawPath(result.box, { x: 0, y: 1 }, drawingCtx, {\n            color: \"#00F\",\n            lineWidth: 2\n          });\n        }\n\n        if (result.codeResult && result.codeResult.code) {\n          Quagga.ImageDebug.drawPath(\n            result.line,\n            { x: \"x\", y: \"y\" },\n            drawingCtx,\n            { color: \"red\", lineWidth: 3 }\n          );\n        }\n      }\n    });\n\n    Quagga.onDetected(detected);\n  }, []);\n\n  const detected = result => {\n    onDetected(result.codeResult.code);\n  };\n\n  return (\n    // If you do not specify a target,\n    // QuaggaJS would look for an element that matches\n    // the CSS selector #interactive.viewport\n    <div id=\"interactive\" className=\"viewport\" />\n  );\n};\n\nexport default Scanner;\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport ArrowIcon from '@material-ui/icons/KeyboardBackspace';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { Redirect } from 'react-router';\nimport Popover from '@material-ui/core/Popover';\nimport Typography from '@material-ui/core/Typography';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport BarcodeIcon from '@material-ui/icons/CropFree';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n//import Paper from '@material-ui/core/Paper';\nimport { MuiPickersUtilsProvider, DatePicker } from '@material-ui/pickers';\nimport 'date-fns';\nimport DateFnsUtils from '@date-io/date-fns';\nimport Scanner from \"./Scanner\";\n\nconst styles = theme => ({\n    toolbar: theme.mixins.toolbar, \n    imgOverlay: {\n        height: '100%',\n        backgroundColor: \"hsla(0, 0%, 0%, 0.23)\"\n    }, \n    arrowIcon: {\n        marginLeft: \"16px\",\n        marginTop: \"10px\",\n        color: \"white\",\n        position: \"fixed\"\n    }, \n    deleteIcon: {\n        marginRight: \"16px\",\n        marginTop: \"10px\",\n        color: \"white\",\n        position: \"fixed\",\n        right: \"0\"\n    },\n    datePicker: {\n        width: '100%'\n    },\n    formContainer: {\n        //marginTop: \"208px\",\n        //backgroundColor: \"white\"\n    },\n    form: {\n        padding: '1.6rem'\n    },\n    textField: {\n        width: '100%'\n    },\n    submitButton: {\n        float: 'right',\n        marginTop: '1rem'\n    },\n    typography: {\n        padding: theme.spacing(2)\n    }\n});\n\nclass AddProduct extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleClickArrow = this.handleClickArrow.bind(this);\n        this.handleClickDelete = this.handleClickDelete.bind(this);\n        this.handleClickSave = this.handleClickSave.bind(this);\n        this.handleDateChange = this.handleDateChange.bind(this);\n        this.handleInput = this.handleInput.bind(this);\n        this.getProductInformationByBarcode = this.getProductInformationByBarcode.bind(this);\n        this.showErrorPopOver = this.showErrorPopOver.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleCloseSnackbar = this.handleCloseSnackbar.bind(this);\n        this.setBackgroundImg = this.setBackgroundImg.bind(this);\n        this.setDate = this.setDate.bind(this);\n        this.handleClickUpdate = this.handleClickUpdate.bind(this);\n        this.onDetected = this.onDetected.bind(this);\n        this.onStartScan = this.onStartScan.bind(this);\n        this.state = {\n            redirect: false,\n            product_name: \"\",\n            product_amount: \"\",\n            product_purchaseDate: \"\",\n            product_expireDate: \"\",\n            product_img_url: \"\",\n            imgStyle: {\n                //zIndex: \"-1\",\n                //width: \"100%\",\n                //position: \"fixed\",\n                height: '13rem',\n                backgroundImage: \"url(\" + this.props.products.img_url + \")\",\n                backgroundRepeat: \"no-repeat\",\n                backgroundPosition: \"center\",\n                backgroundSize: \"auto 100%\"\n            },\n            barcode: \"\",\n            anchorEl: {},\n            open: false,\n            openSnackbar: false,\n            id: 'simple-popover',\n            simple_popover_message: \"\",\n            result: null,\n            camera: false\n        }\n    }\n\n    componentDidMount = () => {\n        if (this.props.productID !== 0){\n            var product = this.props.products.find(e => e.id === this.props.productID);\n            this.setState({\n                product_name: product.name,\n                product_amount: product.amount,\n                product_purchaseDate: product.purchaseDate,\n                product_expireDate: product.expireDate,\n                product_img_url: product.img_url,\n                imgStyle: {\n                    ...this.state.imgStyle,\n                    backgroundImage: \"url(\" + product.img_url + \")\",\n                }\n            }) \n        }\n    }\n\n    setBackgroundImg(product_img_url){\n        this.setState({\n            imgStyle: {\n                ...this.state.imgStyle,\n                backgroundImage: \"url(\" + product_img_url + \")\",\n            },\n            product_img_url: product_img_url\n        })\n    }\n\n    showErrorPopOver(message,target){\n        this.setState({\n            open: true,\n            anchorEl: target,\n            simple_popover_message: message\n        })\n\n    }\n\n    handleClose() {\n        this.setState({\n            anchorEl: null,\n            open: false\n        })\n    };\n\n    handleCloseSnackbar = (event, reason) => {\n        if (reason === 'clickaway') {\n          return;\n        }\n        this.setState({openSnackbar: false})\n    };\n\n    getProductInformationByBarcode(event){\n        if(event.keyCode == 13){\n            var barcode = this.state.barcode;\n            if(barcode){\n            //check for valid barcode\n\n            //var searchResult = {};\n            if(barcode.length === 13 || barcode.length === 8) {\n                    fetch(\"https://world.openfoodfacts.org/api/v0/product/\"+barcode+\".json\")\n                    .then(res => res.json())\n                    .then((result) => {\n                        var product = result.product;\n                        //check if product found\n                        if(result.status === 1){\n                            if(product.product_name) {\n                                //this.props.update(product.product_name);\n                                this.setState({\n                                    product_name: product.product_name,\n                                })\n                                this.setBackgroundImg(product.image_url);\n                            } else {\n                                // throw error\n                                this.showErrorPopOver(\"Produktname nicht gefunden!\",event.currentTarget);\n                            }\n                            \n                        } else {\n                            // throw error\n                            this.showErrorPopOver(\"Das Produkt existiert nicht!\",event.currentTarget);\n                        }\n                    },\n                    (error) => {\n                        this.showErrorPopOver(\"Prüfe deine Internetverbindung!\",event.currentTarget);\n                    })\n            } else {\n                this.showErrorPopOver(\"Barcode nicht korrekt!\",event.currentTarget);\n            }\n            } else {\n                this.showErrorPopOver(\"Bitte Barcode eingeben!\",event.currentTarget);\n            }\n        }\n    }\n\n    handleClickArrow(event) {\n        this.setState({redirect: true});\n        this.props.refreshPage();\n    }\n\n    handleClickDelete(event) {\n        this.props.delete(this.props.productID);\n        this.setState({redirect: true});\n        this.props.refreshPage();\n    }\n\n    handleClickSave(event){\n        if(!this.state.product_purchaseDate){\n            this.setDate(new Date(), \"purchaseDate\");\n        }\n        if(!this.state.product_expireDate){\n            this.setDate(new Date(), \"expireDate\");\n        }\n        if (this.props.productID === 0 ){\n            this.props.add(this.state.product_name, this.state.product_amount, this.state.product_purchaseDate, this.state.product_expireDate, this.state.product_img_url);\n        }\n        this.setState({redirect: true});\n        this.props.refreshPage();\n    }\n\n    handleDateChange(event, id) {\n        this.setDate(event, id);   \n    }\n\n    async setDate(date, id){\n        const isoDate = date.toISOString().split('T')[0];\n        await this.setState({[id]: isoDate});  \n    }\n\n    handleInput(event) {\n        const value = event.target.value;\n        this.setState({\n            ...this.state,\n            [event.target.id]: value\n        })\n        \n    }\n\n    handleClickUpdate(event) {\n        var product = {\n            name: this.state.product_name,\n            amount: this.state.product_amount,\n            purchaseDate: this.state.product_purchaseDate,\n            expireDate: this.state.product_expireDate\n        }\n        this.props.productUpdate(this.props.productID, product);\n        this.setState({openSnackbar: true})\n    }\n\n    onDetected(result) {\n        this.setState({ barcode: result,\n                        camera: false })\n    }\n\n    onStartScan(event) {\n        this.setState({\n            camera: !this.state.camera\n        })\n    }\n    \n\n    render() {\n        const { classes } = this.props;\n\n        if (this.state.redirect) {\n            return <Redirect push to=\"/Xpire\" />;\n        }\n\n        return (\n            <div className={classes.root}>\n                <div className={classes.toolbar}/>\n                <div className={classes.img} style={this.state.imgStyle}>\n                    <div className={classes.imgOverlay}>\n                        <ArrowIcon \n                            edge=\"end\"\n                            className={classes.arrowIcon}\n                            onClick={this.handleClickArrow}\n                        />\n                        { this.props.productID !== 0 && <DeleteIcon \n                            edge=\"end\"\n                            className={classes.deleteIcon}\n                            onClick={this.handleClickDelete}\n                        />}\n                    </div>\n                </div>\n        \n                <Popover\n                    id={this.state.id}\n                    open={this.state.open}\n                    anchorEl={this.state.anchorEl}\n                    onClose={this.handleClose}\n                    anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                    }}\n                    transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                    }}\n                >\n                    <Typography className={classes.typography}>{this.state.simple_popover_message}</Typography>\n                </Popover>  \n                \n                <div className={classes.formContainer}>\n                <form className={classes.form}>\n                    { this.props.productID === 0 && <div>\n                        <TextField\n                            id=\"barcode\"\n                            label=\"Barcode\"\n                            margin=\"dense\"\n                            variant=\"outlined\"\n                            value={this.state.barcode}\n                            className={classes.textField}\n                            onChange={this.handleInput}\n                            onKeyDown={this.getProductInformationByBarcode} \n\n                            InputProps={{\n                                endAdornment: (\n                                <InputAdornment position=\"end\">\n                                    <BarcodeIcon \n                                        onClick={this.onStartScan}\n                                    />\n                                </InputAdornment>\n                                ),\n                            }}\n                        />\n\n                        <div className=\"container\">\n                            {this.state.camera && <Scanner onDetected={this.onDetected} />}\n                        </div>\n\n                    </div>}\n                    \n                    <TextField\n                        required\n                        id=\"product_name\"\n                        label=\"Titel\"\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        value={this.state.product_name}\n                        className={classes.textField}\n                        onChange={this.handleInput}\n                    />\n                    <br />\n                    <TextField\n                        required\n                        id=\"product_amount\"\n                        label=\"Anzahl\"\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        value={this.state.product_amount}\n                        className={classes.textField}\n                        onChange={this.handleInput}\n                    />                           \n                    <br />\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                        <DatePicker\n                            required\n                            id=\"product_purchaseDate\"\n                            label=\"Eingekauft am\"\n                            margin=\"dense\"\n                            inputVariant=\"outlined\"\n                            format=\"dd.MM.yyyy\"\n                            value={this.state.product_purchaseDate} \n                            className={classes.datePicker}\n                            onChange={(event) => this.handleDateChange(event, \"product_purchaseDate\")}     \n                        />                      \n                    </MuiPickersUtilsProvider>                                        \n                    <br />\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                        <DatePicker\n                            required\n                            id=\"product_expireDate\"\n                            label=\"Gültig bis\"\n                            margin=\"dense\"\n                            inputVariant=\"outlined\"\n                            format=\"dd.MM.yyyy\"\n                            value={this.state.product_expireDate} \n                            className={classes.datePicker}\n                            onChange={(event) => this.handleDateChange(event, \"product_expireDate\")}\n                        />                      \n                    </MuiPickersUtilsProvider>\n                    <br />\n           \n                    { this.props.productID === 0 && <Button\n                        id=\"SaveButton\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submitButton}\n                        onClick={this.handleClickSave}>\n                        Speichern\n                    </Button>}\n\n                    { this.props.productID !== 0 && <Button\n                        id=\"UpdateButton\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submitButton}\n                        onClick={this.handleClickUpdate}>\n                        Ändern\n                    </Button>}\n                </form> \n                </div>\n\n                <Snackbar\n                    anchorOrigin={{\n                        vertical: 'bottom',\n                        horizontal: 'center',\n                    }}\n                    open={this.state.openSnackbar}\n                    autoHideDuration={6000}\n                    onClose={this.handleCloseSnackbar}\n                    message=\"Daten wurden geändert!\"\n                    action={\n                          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleCloseSnackbar}>\n                            <CloseIcon fontSize=\"small\" />\n                          </IconButton>\n                      }\n                />                        \n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(AddProduct);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport { Link } from 'react-router-dom';\n\nconst styles = theme => ({\n    fab: {\n        position: 'fixed',\n        bottom: theme.spacing(4),\n        right: theme.spacing(4),\n    },\n});\n\nclass FloatingButton extends React.Component {\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Link to=\"/Xpire/Product\">\n                <Fab color=\"primary\" aria-label=\"add\" className={classes.fab} >\n                    <AddIcon />\n                </Fab>\n            </Link>\n        );\n    }\n}\n\nexport default withStyles(styles)(FloatingButton);","import Dexie from 'dexie'\n\nconst db = new Dexie('Xpire');\ndb.version(1).stores({\n    products: \"++id,name,amount,purchaseDate,expireDate, img_url\"\n});\n\nexport const addProduct = async (name, amount, purchaseDate, expireDate, img_url=undefined) => {\n    await db.products.add({\n        name: name,\n        amount: amount,\n        purchaseDate: purchaseDate,\n        expireDate: expireDate,\n        img_url: img_url\n    });\n    return await db.products.toArray().then(function (arr) {\n        return arr;\n    });\n}\nexport const updateProductById = async (id, product) => {\n    console.log(product) //has to be one or multiple key(s) + value(s) according to database table attributes\n    await db.products.update(id, product).then(function (updated) {\n        if (updated)\n          return getAllProducts();\n        else\n          console.log (\"Nothing was updated\");\n          return getAllProducts();\n      });\n}\n\nexport const clearTable = async (tableName) => {\n    await db.table(tableName).clear().catch(() => {\n        console.log('scheise')\n    })\n}\n\nexport const deleteProductById = async (theId) => {\n    await db.products.where('id').equals(theId).delete()\n}\n\nexport const getProductById = async (id) => {\n    return await db.products.get(id).then(function (prod) {\n        return prod\n    }).catch((err) => {\n        return console.log(err)\n    })\n}\n\nexport const getAllProducts = async () => {\n    return await db.products.toArray().then(function (arr) {\n        // console.log(arr);\n        return arr;\n    }).catch((err) => {\n        return console.log(err)\n    })\n}\n\nexport const createDatabase = async () => { //use for debugging \n    const db = new Dexie('Xpire');\n    db.version(1).stores({\n        products: \"++id,name,amount,purchaseDate,expireDate, img_rl\"\n    });\n}","import React from 'react';\n//import IdbTest from './IdbTest'\nimport AppHeader from './components/AppHeader'\nimport ProductsList from './components/ProductsList';\nimport AddProduct from './components/AddProduct';\nimport FloatingButton from './components/FloatingButton';\nimport { Route, BrowserRouter as Router } from 'react-router-dom'; \nimport { addProduct, deleteProductById, getAllProducts, updateProductById } from './Idb'\nimport { Collapse, IconButton } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport CloseIcon from '@material-ui/icons/Close';\n\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    \n    this.productListComponentRef = React.createRef()\n\n    this.state = {\n      products: [],\n      productID: 0,\n      open: true\n    }\n    this.showProduct = this.showProduct.bind(this);\n    this.deleteProduct = this.deleteProduct.bind(this);\n    this.addProductToList = this.addProductToList.bind(this);\n    this.updateProduct = this.updateProduct.bind(this);\n    this.refreshPage = this.refreshPage.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  componentDidMount = () => {\n    const fetch = async () => {\n      await getAllProducts().then((arr) => {\n        this.setState({ products: arr}); \n      })\n  }\n  fetch();\n  }\n\n  refreshPage() {\n    this.setState({ productID: 0 });\n    this.componentDidMount();\n  }\n\n  showProduct(id) {\n    this.setState({ productID: id });\n  }\n\n  deleteProduct = async (id) => {\n    await deleteProductById(id)\n  }\n\n  addProductToList = async (name, amount, purchaseDate, expireDate, img_url) => {\n    await addProduct(name, amount, purchaseDate, expireDate, img_url).then((arr) => {\n      this.setState({ products: arr });\n    })\n  }\n\n  updateProduct = async (id,product) => {\n    await updateProductById(id, product).then((arr) => {\n      this.setState({ products: arr });\n    })\n  }\n\n  scheduleNotification = (text, id, timestamp) => {\n    if (Notification.permission === \"granted\") {\n      navigator.serviceWorker.ready.then(registration => {\n        if (\"showTrigger\" in Notification.prototype) { //origin trial feature\n          console.log(\"Notification Triggers supported\");\n          registration.showNotification('Xpire - manage your fridge and get rich', {\n            body: text,\n            tag: id,\n            icon: 'logo.svg',\n            showTrigger: new TimestampTrigger(timestamp) // eslint-disable-line no-undef\n          });\n        }else{\n          console.log(\"Notification Triggers not supported\")\n          registration.showNotification('Xpire - manage your fridge and get rich', {\n            body: 'Your Browser doesnt support scheduled notifications',\n            tag: 'no-support',\n            icon: 'logo.svg'\n          });\n        }\n      })\n      .then(console.log(\"Notification sent\"))\n      .catch(err => console.log(err));\n    }else {\n      console.log(\"Please allow Notifications or exit Incognito Mode\")\n      this.productListComponentRef.current.setState({open:true})\n    }\n  }\n  displayNotification = () => {\n    console.log(\"sending Notification\")\n    this.scheduleNotification(\"a product is about to expire\", \"test1\", Date.now() + 2000);\n  }\n\n  render() {\n\n    return (\n      <Router>\n        <div className=\"App\"> \n          <Route path=\"/Xpire\" component={AppHeader} />\n          <Route exact path=\"/Xpire\" render={(props) => <ProductsList ref= {this.productListComponentRef} products={this.state.products} showProduct={this.showProduct} notification={this.displayNotification}/>} />\n          <Route exact path=\"/Xpire\" render={(props) => <FloatingButton />} />\n          <Route exact path=\"/Xpire/Product\" render={(props) => <AddProduct productID={this.state.productID}\n                                                                            products={this.state.products} \n                                                                            refreshPage={this.refreshPage} \n                                                                            add={this.addProductToList} \n                                                                            delete={this.deleteProduct} \n                                                                            productUpdate={this.updateProduct}/>} \n                                                                />\n        </div>\n      </Router>\n    );\n\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\n\n// Color theme for whole app\nconst theme = createMuiTheme({\n  palette: {\n     primary: {\n        main: '#C9DEBC',\n     },\n     secondary: {\n       main: '#F96523',\n     },\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <MuiThemeProvider theme={theme}>\n      <App />\n    </MuiThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nif ('serviceWorker' in navigator) {\n  \n  navigator.serviceWorker.register('service-worker.js').then(function(registration) {\n    console.log(\"service worker registered\");\n    Notification.requestPermission(result => {\n      if (result === 'granted') {\n        console.log(\"Granted\")\n      } else {\n        console.log(result)\n      }\n    });\n  }).catch(function(error) {\n    console.log(error)\n  });\n} else {\n  // Der verwendete Browser unterstützt Service Worker nicht.\n  var aElement = document.createElement('a');\n  aElement.href = 'http://www.chromium.org/blink/serviceworker/service-worker-faq';\n  aElement.textContent = 'unavailable';\n  document.querySelector('#status').appendChild(aElement);\n}"],"sourceRoot":""}